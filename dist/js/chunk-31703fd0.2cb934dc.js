(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31703fd0"],{"3fc7":function(t,n,e){},"4c7a":function(t,n,e){"use strict";var r=e("3fc7"),o=e.n(r);o.a},"8a04":function(t,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"b",function(){return p}),e.d(n,"c",function(){return f});var r=e("ab48"),o=e("9530"),i=e.n(o);function a(){var t=Object(r["a"])(["\n    mutation createPost($title: String, $description: String, $content: String) {\n        createPost(data: {status: DRAFT, title: $title, description: $description, content: $content}) {\n            title: title\n            description: description\n            content: content\n        }\n    }\n"]);return a=function(){return t},t}function s(){var t=Object(r["a"])(["\n    query maxPostCount{\n        postsConnection {\n            aggregate {\n                count\n            }\n        }\n    }\n"]);return s=function(){return t},t}function c(){var t=Object(r["a"])(["\n    query fetchPostByPage($displayUnit: Int, $page: Int) {\n        posts(first: $displayUnit, skip: $page, orderBy: createdAt_DESC where: {status: PUBLISHED}) {\n            id\n            title\n            content\n            description\n            createdAt\n            thumbnail {\n                url\n            }\n            __typename \n        }\n    }\n"]);return c=function(){return t},t}function u(){var t=Object(r["a"])(["\n    query feachPostById($id: ID!) {\n        post(where: { id: $id }) {\n            title\n            content\n            description\n            createdAt\n            thumbnail {\n                url\n            }\n        }\n    }\n"]);return u=function(){return t},t}function l(){var t=Object(r["a"])(["\n    query allPosts {\n        posts(where: {status: PUBLISHED}) {\n            id\n            title\n            content\n            description\n            createdAt\n            thumbnail {\n                url\n            }\n        }\n    }\n"]);return l=function(){return t},t}i()(l());var d=i()(u()),p=i()(c()),f=i()(s());i()(a())},cdbb:function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("v-container",{attrs:{"grid-list-xl":""}},[e("v-layout",{attrs:{row:"",wrap:""}},t._l(t.posts,function(t){return e("PostCard",{key:t.id,attrs:{post:t}})})),t.loading?e("div",{staticClass:"text-xs-center"},[e("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):t._e()],1)],1)},o=[];function i(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){return i(t)||a(t)||s()}var u=e("8a04"),l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-flex",{attrs:{xs12:"",sm6:"",md4:"","offset-md4":"","offset-sm3":""}},[e("article",[e("v-hover",{scopedSlots:t._u([{key:"default",fn:function(n){var r=n.hover;return e("v-card",{class:"elevation-"+(r?12:2)},[e("router-link",{attrs:{to:"/post/"+t.post.id}},[e("v-img",{staticClass:"white--text",attrs:{height:"170px",src:t.post.thumbnail.url}})],1),e("v-card-title",[e("div",[e("h2",[t._v(t._s(t.post.title))]),e("span",{staticClass:"grey--text"},[t._v(t._s(t._f("moment")(t.post.createdAt,"YYYY-MM-DD")))]),e("br"),e("span",[t._v(t._s(t.post.description))])])]),e("v-card-actions",[e("v-btn",{staticClass:"red--text",attrs:{icon:""}},[e("v-icon",{attrs:{medium:""}},[t._v("fa-reddit")])],1),e("v-btn",{staticClass:"light-blue--text",attrs:{icon:""}},[e("v-icon",{attrs:{medium:""}},[t._v("fa-twitter")])],1),e("v-btn",{staticClass:"blue--text text--darken-4",attrs:{icon:""}},[e("v-icon",{attrs:{medium:""}},[t._v("fa-facebook")])],1),e("v-spacer"),e("v-btn",{attrs:{flat:"",color:"blue",to:"/post/"+t.post.id}},[t._v("Read more")])],1)],1)}}])})],1)])},d=[],p={name:"PostCardSingleLine",props:["post"]},f=p,v=e("2877"),m=Object(v["a"])(f,l,d,!1,null,null,null);m.options.__file="PostCardSingleLine.vue";var b=m.exports,h=3,g={name:"InfinityScrollDemo",components:{PostCard:b},data:function(){return{loading:!1,page:0,posts:{},loadEnable:!0}},apollo:{posts:{query:u["b"],variables:{displayUnit:h,page:0},update:function(t){return t.posts}}},methods:{showMore:function(){this.page++;var t=this;this.$apollo.queries.posts.fetchMore({variables:{displayUnit:h,page:t.page*h},updateQuery:function(n,e){var r=e.fetchMoreResult,o=n.posts,i=r.posts;return i.length<h&&(t.loadEnable=!1),t.loading=!1,{posts:c(o).concat(c(i))}}})},watchScroll:function(){var t=this,n=this;window.onscroll=function(){var e=document.documentElement.scrollTop+window.innerHeight,r=document.documentElement.offsetHeight-10;n.loadEnable&&!n.loading&&e>=r&&(n.loading=!0,setTimeout(t.showMore,1e3))}}},mounted:function(){this.watchScroll()}},y=g,_=(e("4c7a"),Object(v["a"])(y,r,o,!1,null,"9be5b592",null));_.options.__file="InfiniteScrollDemo.vue";n["default"]=_.exports}}]);
//# sourceMappingURL=chunk-31703fd0.2cb934dc.js.map